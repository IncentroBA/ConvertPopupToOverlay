import { useState, useEffect, createElement } from 'react';

function waitFor(elementClass, callback, parent) {
  const context = parent || document;
  if (context.querySelector(elementClass)) {
    callback();
  } else {
    const observer = new MutationObserver(() => {
      if (context.querySelector(elementClass)) {
        observer.disconnect();
        callback();
      }
    });

    // Start observing
    observer.observe(context, {
      childList: true,
      //This is a must have for the observer with subtree
      subtree: true //Set to true if changes must also be observed in descendants.
    });
  }
}

function ConvertPopupToOverlay({
  closeAction,
  closeButtonClass,
  overlayStyle,
  position,
  renderUnderlay,
  shouldClosePage,
  showHeader,
  size,
  underlayColor
}) {
  const [canRender, setCanRender] = useState(false);
  const [modal, setModal] = useState(null);
  const page = document.querySelector(".mx-page");
  useEffect(() => {
    if (document.querySelector(".convert-popup-to-overlay")) {
      setModal(document.querySelector(".convert-popup-to-overlay").closest(".modal-dialog"));
      setCanRender(true);
    }
    return () => {};
  });
  function setUnderlayColor() {
    underlayColor && document.documentElement.style.setProperty(`--underlay-color`, underlayColor);
  }
  function removeUnderlay() {
    const underlay = document.querySelector(".popup-underlay.old");
    underlay && underlay.classList.remove("visible");
    setTimeout(() => {
      document.querySelector(".mx-page > .popup-underlay")?.remove();
    }, 300);
  }
  function AnimateCloseModal() {
    const modal = document.querySelector(".popup-overlay");
    overlayStyle === "push" ? page.style.transform = `translate(0px)` : null;
    if (overlayStyle === "push") {
      setTimeout(() => {
        modal && modal.classList.remove("visible");
        page.classList.remove("mx-page--push");
      }, 400);
    } else {
      modal && modal.classList.remove("visible");
    }
    removeUnderlay();
  }
  function closeModal() {
    AnimateCloseModal();
    if (closeAction && closeAction.canExecute) {
      closeAction.execute();
    } else if (!closeAction && shouldClosePage === true) {
      const closeBtn = document.querySelector(".popup-overlay .close");
      setTimeout(() => closeBtn.click(), 300);
    }
  }
  function generateUnderlay() {
    if (overlayStyle === "push") {
      page.insertAdjacentHTML("afterbegin", '<div class="popup-underlay"></div>');
    } else {
      modal.insertAdjacentHTML("beforeend", '<div class="popup-underlay"></div>');
    }
    const underlay = document.querySelector(".popup-underlay:not(.old)");
    underlay?.addEventListener("click", closeModal);
    underlay?.classList.add("old");
    return underlay;
  }

  // overlay for the default close button
  function generateCloseBtn() {
    if (showHeader === true && shouldClosePage === true) {
      const modalContent = modal.querySelector(".modal-content");
      modalContent.insertAdjacentHTML("afterbegin", `<div class="popup-overlay__closebutton"></div>`);
      document.querySelector(".popup-overlay__closebutton")?.addEventListener("click", closeModal);
    }
  }
  function linkCloseButtons() {
    document.querySelectorAll(`.${closeButtonClass}`).forEach(closeBtn => {
      if (shouldClosePage === true) {
        closeBtn?.addEventListener("click", closeModal);
      } else {
        closeBtn?.addEventListener("click", AnimateCloseModal);
      }
    });
  }

  // Wait with transitions in case of progressbar
  function foundProgress() {
    return true;
  }
  if (canRender) {
    setTimeout(() => {
      modal.classList.add("popup-overlay", `popup-overlay--${position}`);
      if (overlayStyle === "push") {
        page.classList.add("mx-page--push");
      }
      setTimeout(() => {
        // Set size as width
        if (position === "left" || position === "right") {
          modal.style.width = `${size}px`;
        }
        // Set size as height
        if (position === "top" || position === "bottom") {
          modal.style.height = `${size}px`;
        }
      }, 100);
      showHeader === false && modal.classList.add("popup-overlay--remove-header");
      setUnderlayColor();
      const underlay = generateUnderlay();
      const progress = waitFor(".mx-progress", foundProgress, document);
      if (progress) {
        underlay.classList.remove("visible");
        modal.classList.remove("transition");
        modal.classList.remove("visible");
      } else {
        setTimeout(() => {
          generateCloseBtn();
          setTimeout(() => linkCloseButtons(), 300);
          if (renderUnderlay === true) {
            underlay && underlay.classList.add("visible");
          } else {
            underlay && underlay.classList.add("hidden");
          }
          if (overlayStyle !== "push") {
            setTimeout(() => modal && modal.classList.add("transition"), 100);
          }
          setTimeout(() => modal && modal.classList.add("visible"), 100);
          if (overlayStyle === "push") {
            if (position === "left") {
              page.style.transform = `translateX(${size}px)`;
              underlay.classList.add("popup-underlay--left");
            }
            if (position === "right") {
              page.style.transform = `translateX(-${size}px)`;
              underlay.classList.add("popup-underlay--right");
            }
            if (position === "top") {
              page.style.transform = `translateY(${size}px)`;
              underlay.classList.add("popup-underlay--top");
            }
            if (position === "bottom") {
              page.style.transform = `translateY(-${size}px)`;
              underlay.classList.add("popup-underlay--bottom");
            }
          }
        }, 200);
      }
    }, 2);
    return null;
  } else {
    return createElement("div", {
      className: "convert-popup-to-overlay"
    });
  }
}

export { ConvertPopupToOverlay as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udmVydFBvcHVwVG9PdmVybGF5Lm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2hlbHBlcnMvd2FpdEZvci5qcyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9Db252ZXJ0UG9wdXBUb092ZXJsYXkuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yKGVsZW1lbnRDbGFzcywgY2FsbGJhY2ssIHBhcmVudCkge1xuICBjb25zdCBjb250ZXh0ID0gcGFyZW50IHx8IGRvY3VtZW50O1xuXG4gIGlmIChjb250ZXh0LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudENsYXNzKSkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICBpZiAoY29udGV4dC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRDbGFzcykpIHtcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBTdGFydCBvYnNlcnZpbmdcbiAgICBvYnNlcnZlci5vYnNlcnZlKGNvbnRleHQsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSwgLy9UaGlzIGlzIGEgbXVzdCBoYXZlIGZvciB0aGUgb2JzZXJ2ZXIgd2l0aCBzdWJ0cmVlXG4gICAgICBzdWJ0cmVlOiB0cnVlLCAvL1NldCB0byB0cnVlIGlmIGNoYW5nZXMgbXVzdCBhbHNvIGJlIG9ic2VydmVkIGluIGRlc2NlbmRhbnRzLlxuICAgIH0pO1xuICB9XG59OyIsImltcG9ydCBcIi4vdWkvQ29udmVydFBvcHVwVG9PdmVybGF5LmNzc1wiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgd2FpdEZvciB9IGZyb20gXCIuL2hlbHBlcnMvd2FpdEZvclwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb252ZXJ0UG9wdXBUb092ZXJsYXkoe1xuICAgIGNsb3NlQWN0aW9uLFxuICAgIGNsb3NlQnV0dG9uQ2xhc3MsXG4gICAgb3ZlcmxheVN0eWxlLFxuICAgIHBvc2l0aW9uLFxuICAgIHJlbmRlclVuZGVybGF5LFxuICAgIHNob3VsZENsb3NlUGFnZSxcbiAgICBzaG93SGVhZGVyLFxuICAgIHNpemUsXG4gICAgdW5kZXJsYXlDb2xvclxufSkge1xuICAgIGNvbnN0IFtjYW5SZW5kZXIsIHNldENhblJlbmRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW21vZGFsLCBzZXRNb2RhbF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5teC1wYWdlXCIpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udmVydC1wb3B1cC10by1vdmVybGF5XCIpKSB7XG4gICAgICAgICAgICBzZXRNb2RhbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnZlcnQtcG9wdXAtdG8tb3ZlcmxheVwiKS5jbG9zZXN0KFwiLm1vZGFsLWRpYWxvZ1wiKSk7XG4gICAgICAgICAgICBzZXRDYW5SZW5kZXIodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBzZXRVbmRlcmxheUNvbG9yKCkge1xuICAgICAgICB1bmRlcmxheUNvbG9yICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShgLS11bmRlcmxheS1jb2xvcmAsIHVuZGVybGF5Q29sb3IpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZVVuZGVybGF5KCkge1xuICAgICAgICBjb25zdCB1bmRlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtdW5kZXJsYXkub2xkXCIpO1xuICAgICAgICB1bmRlcmxheSAmJiB1bmRlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm14LXBhZ2UgPiAucG9wdXAtdW5kZXJsYXlcIik/LnJlbW92ZSgpO1xuICAgICAgICB9LCAzMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEFuaW1hdGVDbG9zZU1vZGFsKCkge1xuICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtb3ZlcmxheVwiKTtcbiAgICAgICAgb3ZlcmxheVN0eWxlID09PSBcInB1c2hcIiA/IChwYWdlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMHB4KWApIDogbnVsbDtcbiAgICAgICAgaWYgKG92ZXJsYXlTdHlsZSA9PT0gXCJwdXNoXCIpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG1vZGFsICYmIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgIHBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcIm14LXBhZ2UtLXB1c2hcIik7XG4gICAgICAgICAgICB9LCA0MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kYWwgJiYgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVW5kZXJsYXkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICAgICAgICBBbmltYXRlQ2xvc2VNb2RhbCgpO1xuXG4gICAgICAgIGlmIChjbG9zZUFjdGlvbiAmJiBjbG9zZUFjdGlvbi5jYW5FeGVjdXRlKSB7XG4gICAgICAgICAgICBjbG9zZUFjdGlvbi5leGVjdXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNsb3NlQWN0aW9uICYmIHNob3VsZENsb3NlUGFnZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLW92ZXJsYXkgLmNsb3NlXCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBjbG9zZUJ0bi5jbGljaygpLCAzMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVVbmRlcmxheSgpIHtcbiAgICAgICAgaWYgKG92ZXJsYXlTdHlsZSA9PT0gXCJwdXNoXCIpIHtcbiAgICAgICAgICAgIHBhZ2UuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJiZWdpblwiLCAnPGRpdiBjbGFzcz1cInBvcHVwLXVuZGVybGF5XCI+PC9kaXY+Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RhbC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgJzxkaXYgY2xhc3M9XCJwb3B1cC11bmRlcmxheVwiPjwvZGl2PicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuZGVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC11bmRlcmxheTpub3QoLm9sZClcIik7XG4gICAgICAgIHVuZGVybGF5Py5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbCk7XG4gICAgICAgIHVuZGVybGF5Py5jbGFzc0xpc3QuYWRkKFwib2xkXCIpO1xuICAgICAgICByZXR1cm4gdW5kZXJsYXk7XG4gICAgfVxuXG4gICAgLy8gb3ZlcmxheSBmb3IgdGhlIGRlZmF1bHQgY2xvc2UgYnV0dG9uXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVDbG9zZUJ0bigpIHtcbiAgICAgICAgaWYgKHNob3dIZWFkZXIgPT09IHRydWUgJiYgc2hvdWxkQ2xvc2VQYWdlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBtb2RhbENvbnRlbnQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvbnRlbnRcIik7XG4gICAgICAgICAgICBtb2RhbENvbnRlbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJiZWdpblwiLCBgPGRpdiBjbGFzcz1cInBvcHVwLW92ZXJsYXlfX2Nsb3NlYnV0dG9uXCI+PC9kaXY+YCk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLW92ZXJsYXlfX2Nsb3NlYnV0dG9uXCIpPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaW5rQ2xvc2VCdXR0b25zKCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjbG9zZUJ1dHRvbkNsYXNzfWApLmZvckVhY2goY2xvc2VCdG4gPT4ge1xuICAgICAgICAgICAgaWYgKHNob3VsZENsb3NlUGFnZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNsb3NlQnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb3NlQnRuPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgQW5pbWF0ZUNsb3NlTW9kYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBXYWl0IHdpdGggdHJhbnNpdGlvbnMgaW4gY2FzZSBvZiBwcm9ncmVzc2JhclxuICAgIGZ1bmN0aW9uIGZvdW5kUHJvZ3Jlc3MoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChjYW5SZW5kZXIpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwicG9wdXAtb3ZlcmxheVwiLCBgcG9wdXAtb3ZlcmxheS0tJHtwb3NpdGlvbn1gKTtcblxuICAgICAgICAgICAgaWYgKG92ZXJsYXlTdHlsZSA9PT0gXCJwdXNoXCIpIHtcbiAgICAgICAgICAgICAgICBwYWdlLmNsYXNzTGlzdC5hZGQoXCJteC1wYWdlLS1wdXNoXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgc2l6ZSBhcyB3aWR0aFxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gXCJsZWZ0XCIgfHwgcG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgICAgICAgICBtb2RhbC5zdHlsZS53aWR0aCA9IGAke3NpemV9cHhgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgc2l6ZSBhcyBoZWlnaHRcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IFwidG9wXCIgfHwgcG9zaXRpb24gPT09IFwiYm90dG9tXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuc3R5bGUuaGVpZ2h0ID0gYCR7c2l6ZX1weGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIHNob3dIZWFkZXIgPT09IGZhbHNlICYmIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJwb3B1cC1vdmVybGF5LS1yZW1vdmUtaGVhZGVyXCIpO1xuICAgICAgICAgICAgc2V0VW5kZXJsYXlDb2xvcigpO1xuICAgICAgICAgICAgY29uc3QgdW5kZXJsYXkgPSBnZW5lcmF0ZVVuZGVybGF5KCk7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IHdhaXRGb3IoXCIubXgtcHJvZ3Jlc3NcIiwgZm91bmRQcm9ncmVzcywgZG9jdW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB1bmRlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwidHJhbnNpdGlvblwiKTtcbiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQ2xvc2VCdG4oKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBsaW5rQ2xvc2VCdXR0b25zKCksIDMwMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW5kZXJVbmRlcmxheSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsYXkgJiYgdW5kZXJsYXkuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxheSAmJiB1bmRlcmxheS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG92ZXJsYXlTdHlsZSAhPT0gXCJwdXNoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbW9kYWwgJiYgbW9kYWwuY2xhc3NMaXN0LmFkZChcInRyYW5zaXRpb25cIiksIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBtb2RhbCAmJiBtb2RhbC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKSwgMTAwKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmxheVN0eWxlID09PSBcInB1c2hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBcImxlZnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2Uuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtzaXplfXB4KWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsYXkuY2xhc3NMaXN0LmFkZChcInBvcHVwLXVuZGVybGF5LS1sZWZ0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3NpemV9cHgpYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxheS5jbGFzc0xpc3QuYWRkKFwicG9wdXAtdW5kZXJsYXktLXJpZ2h0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBcInRvcFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke3NpemV9cHgpYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxheS5jbGFzc0xpc3QuYWRkKFwicG9wdXAtdW5kZXJsYXktLXRvcFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2Uuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoLSR7c2l6ZX1weClgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGF5LmNsYXNzTGlzdC5hZGQoXCJwb3B1cC11bmRlcmxheS0tYm90dG9tXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMik7XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29udmVydC1wb3B1cC10by1vdmVybGF5XCI+PC9kaXY+O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJ3YWl0Rm9yIiwiZWxlbWVudENsYXNzIiwiY2FsbGJhY2siLCJwYXJlbnQiLCJjb250ZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiZGlzY29ubmVjdCIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiQ29udmVydFBvcHVwVG9PdmVybGF5IiwiY2xvc2VBY3Rpb24iLCJjbG9zZUJ1dHRvbkNsYXNzIiwib3ZlcmxheVN0eWxlIiwicG9zaXRpb24iLCJyZW5kZXJVbmRlcmxheSIsInNob3VsZENsb3NlUGFnZSIsInNob3dIZWFkZXIiLCJzaXplIiwidW5kZXJsYXlDb2xvciIsImNhblJlbmRlciIsInNldENhblJlbmRlciIsInVzZVN0YXRlIiwibW9kYWwiLCJzZXRNb2RhbCIsInBhZ2UiLCJ1c2VFZmZlY3QiLCJjbG9zZXN0Iiwic2V0VW5kZXJsYXlDb2xvciIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJyZW1vdmVVbmRlcmxheSIsInVuZGVybGF5IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic2V0VGltZW91dCIsIkFuaW1hdGVDbG9zZU1vZGFsIiwidHJhbnNmb3JtIiwiY2xvc2VNb2RhbCIsImNhbkV4ZWN1dGUiLCJleGVjdXRlIiwiY2xvc2VCdG4iLCJjbGljayIsImdlbmVyYXRlVW5kZXJsYXkiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkIiwiZ2VuZXJhdGVDbG9zZUJ0biIsIm1vZGFsQ29udGVudCIsImxpbmtDbG9zZUJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImZvdW5kUHJvZ3Jlc3MiLCJ3aWR0aCIsImhlaWdodCIsInByb2dyZXNzIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSJdLCJtYXBwaW5ncyI6Ijs7QUFBTyxTQUFTQSxPQUFPQSxDQUFDQyxZQUFZLEVBQUVDLFFBQVEsRUFBRUMsTUFBTSxFQUFFO0FBQ3RELEVBQUEsTUFBTUMsT0FBTyxHQUFHRCxNQUFNLElBQUlFLFFBQVEsQ0FBQTtBQUVsQyxFQUFBLElBQUlELE9BQU8sQ0FBQ0UsYUFBYSxDQUFDTCxZQUFZLENBQUMsRUFBRTtBQUN2Q0MsSUFBQUEsUUFBUSxFQUFFLENBQUE7QUFDWixHQUFDLE1BQU07QUFDTCxJQUFBLE1BQU1LLFFBQVEsR0FBRyxJQUFJQyxnQkFBZ0IsQ0FBQyxNQUFNO0FBQzFDLE1BQUEsSUFBSUosT0FBTyxDQUFDRSxhQUFhLENBQUNMLFlBQVksQ0FBQyxFQUFFO1FBQ3ZDTSxRQUFRLENBQUNFLFVBQVUsRUFBRSxDQUFBO0FBQ3JCUCxRQUFBQSxRQUFRLEVBQUUsQ0FBQTtBQUNaLE9BQUE7QUFDRixLQUFDLENBQUMsQ0FBQTs7QUFFRjtBQUNBSyxJQUFBQSxRQUFRLENBQUNHLE9BQU8sQ0FBQ04sT0FBTyxFQUFFO0FBQ3hCTyxNQUFBQSxTQUFTLEVBQUUsSUFBSTtBQUFFO01BQ2pCQyxPQUFPLEVBQUUsSUFBSTtBQUNmLEtBQUMsQ0FBQyxDQUFBO0FBQ0osR0FBQTtBQUNGOztBQ2ZlLFNBQVNDLHFCQUFxQkEsQ0FBQztFQUMxQ0MsV0FBVztFQUNYQyxnQkFBZ0I7RUFDaEJDLFlBQVk7RUFDWkMsUUFBUTtFQUNSQyxjQUFjO0VBQ2RDLGVBQWU7RUFDZkMsVUFBVTtFQUNWQyxJQUFJO0FBQ0pDLEVBQUFBLGFBQUFBO0FBQ0osQ0FBQyxFQUFFO0VBQ0MsTUFBTSxDQUFDQyxTQUFTLEVBQUVDLFlBQVksQ0FBQyxHQUFHQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUE7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
